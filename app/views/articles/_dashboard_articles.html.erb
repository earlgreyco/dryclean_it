<div id="article-container">
	<%= link_to "+ Add New Article", "#!", id: "new-article" %>

	<%= simple_form_for Article.new, remote: true, html: {id: "new-article-form"} do |f| %>
		<div class="single-article" id="new-article-wrapper">
			<div class="article-img">
				<%= f.filepicker_field :img, button_class: "article-button", button_text: "Add Photo", services: "COMPUTER", onchange: "$('.article-button').hide(); $('.img-added').show();" %>
				<div class="img-added">
					Image Added
				</div>
			</div>
			<div class="article-name article-node">
				<%= f.input :name, required: false %>
			</div>
			<div class="article-price article-node">
				<%= f.input :price, as: :string, label: "Price ($)", required: false %>
			</div>
			<div style="clear:both;"></div>
			<br>
			<%= f.button :submit, class: "orange-button" %>
		</div>
	<% end %>

	<div id="new-article-popup">
	</div>

	<div id="all-articles">
		<%= render @articles %>
	</div>
</div>

<script>
$(document).ready(function(){
	/* Activating Best In Place */
  jQuery(".best_in_place").best_in_place();

	$("#new-article-wrapper input").focus(function(){
		$(".article-node input").animate({
			backgroundColor: "white"
		}, 300);

		$(".article-node").animate({
			backgroundColor: "white"
		}, 300);

		$(this).animate({
			backgroundColor: "#DCEBF2"
		}, 300);

		$(this).closest(".article-node").animate({
			backgroundColor: "#DCEBF2"
		}, 300);
	});

	$("#new-article").click(function(){
		$("#new-article-form").show("slide", { direction: "right" }, 300);
	});

	$("#dashboard-container").on("click", ".delete-article a", function(){
		$(this).parent().parent().remove();
	});

	$("#all-articles").on("click", ".delete-article a", function(){
		$(this).parent().parent().remove();
	});
});
</script>
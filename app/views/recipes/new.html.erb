<% provide(:title, "Create A Recipe") %>

<%= form_for @recipe, remote: true do |f| %>
<div class="main-padding">
	<div class="progress">
	  <div class="progress-bar progress-bar-success" role="progressbar" aria-valuenow="60" aria-valuemin="0" aria-valuemax="100" style="width: 0%;">
	  	
	  </div>
	</div>
	<hr>
</div>


<!-- fill in recipe name and time -->

<div id="create-recipe-one" class='main-padding'>
	<div class="new-recipe-header">
		My recipe's name is <%= f.text_field :name, placeholder: "Kalbi Beef", class: "time-input", style: "width: 500px;" %>
		<br/>
		It takes <%= f.text_field :time, placeholder: "16", class: "time-input", style: "width: 60px;" %> hours to cook
	</div>
	<%= link_to raw("Next&nbsp;&nbsp;<i class='fa fa-arrow-right'></i>"), '#!', class: "btn btn-default btn-success", id: "next-btn-one" %>
</div>


<!-- fill in recipe story -->

<div id="create-recipe-two" class='main-padding'>
	<div class="new-recipe-header">
		Long story short...
	</div>

	<div class="story-section">
		<%= f.text_field :story, placeholder: "I thought of this in the shower", id: "resize" %>
	</div>
	<button class="btn btn-default" id="back-btn-one">Back</button>
	<%= button_tag(type: 'submit', class: "btn btn-default btn-success", id: "next-btn-two") do %>
		Next&nbsp;&nbsp;<i class='fa fa-arrow-right'></i>
	<% end %>
</div>
<% end %>


<!-- add ingredients to new recipe -->

<div id="create-recipe-three" class='main-padding'>
	<div class="new-recipe-header">
		I just threw in a few ingredients like...
	</div>

	<ul class="ingredient-section">
		<li>
			<div class="ingredient-row row">
				<div class="col-md-1" style="max-width: 20px;">
					<i class="fa fa-check"></i>
				</div>

				<%= form_for Ingredient.new, remote: true, html: {id: "new-ingredient-form"} do |f| %>
				<div class="col-md-11">
					<%= f.text_field :name, placeholder: "2 teaspoons of sesame oil", class: "ingredient" %>
					<%= f.hidden_field :recipe_id, id: "recipe-id-field" %>
					<%= f.submit "Add this ingredient", class: "add-ingredient-btn btn btn-default" %>
				</div>
				<% end %>
			</div>
		</li>
		<div class="ingredient-list">
			<%= render @ingredients %>
		</div>
	</ul>

	<button class="btn btn-default btn-success" id="next-btn-three">Next&nbsp;&nbsp;<i class="fa fa-arrow-right"></i></button>
</div>


<!-- add steps to new recipe -->

<div id="create-recipe-four" class='main-padding'>
	<div class="new-recipe-header">
		I whipped it up in a few steps...
	</div>

	<ol class="step-section">
		<div class="step-list">
			<%= render @steps %>
		</div>
		<li>
			<%= form_for Step.new, remote: true, html: {id: "new-step-form"} do |f| %>
				<%= f.text_field :description, class: "ingredient", placeholder: "Just throw it in the oven at 350 degrees for 15 minutes." %>
				<%= f.hidden_field :recipe_id, id: "recipe-id-field-two" %>
				<%= f.submit "Add this step", class: "add-ingredient-btn btn btn-default" %>
			<% end %>
		</li>
	</ol>

	<button class="btn btn-default" id="back-btn-two">Back</button>
	<button class="btn btn-default btn-success" id="next-btn-four">Next&nbsp;&nbsp;<i class="fa fa-arrow-right"></i></button>
</div>


<!-- add images to recdipe -->

<div id="create-recipe-five" class='main-padding'>
	<div class="new-recipe-header">
		Add out popped...
	</div>

	<div class="recipe-image-section">
		<%= form_for RecipeImage.new, remote: true, html: {id: "new-recipe-image-form"} do |f| %>
			<%= f.filepicker_field :img, button_class: "btn btn-default add-ingredient-btn", button_text: "Add a new photo", onchange: "$('.hidden-button').trigger('click');" %>
			<%= f.hidden_field :recipe_id, id: "recipe-id-field-three" %>
			<%= f.submit nil, class: "hidden-button", style: "display: none;" %>
		<% end %>
		<div style='clear:both;'></div>
	</div>

	<div class="list-photos">
		<div class="new-photos">
		</div>
		<%= render @recipe_images %>

		<div style="clear:both;"></div>
	</div>

	<div style="clear:both;"></div>

	<button class="btn btn-default" id="back-btn-three">Back</button>
	<%= link_to raw("<i class='fa fa-cutlery'></i>&nbsp;&nbsp;Go See Your Recipe!"), '/my-recipes', class: 'btn btn-default btn-success', id: 'next-btn-five' %>
</div>